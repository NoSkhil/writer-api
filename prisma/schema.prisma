generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  user_id             String    @id @unique @default(cuid())
  first_name          String
  last_name           String
  email               String
  phone_number        BigInt
  profile_picture_url String?
  created_date        DateTime  @default(now())
  last_updated_date   DateTime  @default(now()) @updatedAt
  threads             threads[]
}

model threads {
  thread_id    String     @id @unique
  created_date DateTime   @default(now())
  user_id      users      @relation(fields: [usersUser_id], references: [user_id])
  message_ids  messages[]
  usersUser_id String
}

model messages {
  message_id       String   @id @unique
  role             role
  content          String
  created_date     DateTime @default(now())
  thread_id        threads  @relation(fields: [threadsThread_id], references: [thread_id])
  threadsThread_id String
}

enum role {
  user
  assistant
}